<!DOCTYPE html>
<html>
<body>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>


<canvas id="myCanvas" width="578" height="200" style="display:none;"></canvas>
    <img id="canvasImg" alt="Right click to save me!">
    <script>
      var canvas = document.getElementById('myCanvas');
      var context = canvas.getContext('2d');

      // draw cloud
      context.beginPath();
      context.moveTo(170, 80);
      context.bezierCurveTo(130, 100, 130, 150, 230, 150);
      context.bezierCurveTo(250, 180, 320, 180, 340, 150);
      context.bezierCurveTo(420, 150, 420, 120, 390, 100);
      context.bezierCurveTo(430, 40, 370, 30, 340, 50);
      context.bezierCurveTo(320, 5, 250, 20, 250, 50);
      context.bezierCurveTo(200, 5, 150, 20, 170, 80);
      context.closePath();
      context.lineWidth = 5;
      context.fillStyle = '#8ED6FF';
      context.fill();
      context.strokeStyle = '#0000ff';
      context.stroke();

      // save canvas image as data url (png format by default)
      // var dataURL = canvas.toDataURL('image/jpeg', 0.0);
      var dataURL = canvas.toDataURL();

      // set canvasImg image src to dataURL
      // so it can be saved as an image
      document.getElementById('canvasImg').src = dataURL;

    </script>



<!-- <canvas id="imgCanvas" width="640" height="360"></canvas>
<form>
Backgroud Color:
<input id="inputbckcolor" type="text" value="black">
</br>
Color:
<input id="inputcolor" type="text" value="#FF0000">
</br>
Start Radius:
<input id="inputstartr" type="text" value="20">
End Radius:
<input id="inputendr" type="text" value="8">
</br>
Duration(ms):
<input id="inputdur" type="text" value="500">
</form>
<button id='drawBttn' onclick="draw()" style="display: none;">draw</button>
 -->

<script type="text/javascript">
// cvs = document.getElementById('imgCanvas');
// ctx = imgCanvas.getContext('2d');
// $('#drawBttn').css({left:1000, top:50});

// x = cvs.width/2, y = cvs.height/2;
// step = 30;
// bckcolor='#000';
// // duration = 500;
// // start_r = 20, end_r = 8;
// // color='blue';

// ctx.fillStyle = bckcolor;
// ctx.fillRect(0,0,cvs.width,cvs.height);
// $('#drawBttn').show();

// function draw(){
// 	color = $("#inputcolor").val();
// 	start_r = eval($("#inputstartr").val());
// 	end_r = eval($("#inputendr").val());
// 	duration = eval($("#inputdur").val());
// 	bckcolor = $('#inputbckcolor').val();
// 	drawDynamicCirc(cvs, ctx, x, y, bckcolor, color, duration, start_r, end_r, step, function(){
// 	drawDynamicCirc(cvs, ctx, x, y, bckcolor, color, duration, end_r, start_r, step, null);
// 	});	
// }

// function drawDynamicCirc(cvs, ctx, x, y, bckcolor, color, duration, start_r, end_r, step, callback){
// 	var num = Math.round(duration/step);
// 	var r_set = new Array(num);
// 	for( var i = 0; i < num; i++){
// 		r_set[i] = start_r+ (end_r-start_r)/num*i; // set of radius
// 	}
// 	drawCircleLoop(cvs, ctx, x, y, r_set, bckcolor, color, step, 0, callback);
// }

// function drawCircleLoop(cvs, ctx, x, y, r_set, bckcolor, color, step, idx, callback){
// 	if(idx >= r_set.length) {
// 		if(callback) callback();
// 		return;
// 	}
// 	ctx.fillStyle = bckcolor;
// 	ctx.fillRect(0,0,cvs.width,cvs.height);
// 	drawCircle(ctx, x, y, r_set[idx], color, true);
// 	setTimeout(function(){
// 		drawCircleLoop(cvs, ctx, x, y, r_set, bckcolor, color, step, idx+1, callback);
// 	}, step);
// }


// function drawCircle(context, x, y, r, color, fill){
// 	context.beginPath();
// 	context.arc(x, y, r, 0, 2 * Math.PI, true);
// 	context.closePath();
// 	if(fill){
// 		context.fillStyle = color;
// 		context.fill();	
// 	}else{
// 		context.strokeStyle = color;
// 		context.stroke();
// 	}
// }
</script>












<!-- <script src="../js/RidgeRegression.js"></script>
<script src="../js/MLModel.js"></script>
<script src="../js/jsfeat.js"></script> -->
<script type="text/javascript">
/*
// test linear regression
var queue = [];
var seq = [];
for(var i = 0; i < 1; i++){
	var x1 = i, x2 = 5-i;
	seq.push({"type":"point","location":[2*x1+x2, 3*x1+2*x2]});
	queue.push({"value":[[x1],[x2]], "entryidx":i});
}


var para = {"name":"ridge_regression", "parameter": 1e-5};
var mlmodel = new MLModel.mlmodel(para);

var model = mlmodel.train(queue, seq);
var results = mlmodel.predict(queue, seq, model, true);
*/
</script>


<script type="text/javascript">
// var transmitdata = {
// 	DataTransmitter : function(filename, dataqueue, delimiter){
// 		var fname = filename;
// 		var queue = dataqueue; // pointer to queue
// 		var delim = delimiter;

// 		var batchsize = 10;
// 		var sendinterval = 500;

// 		var START = false;
// 		var MORE = true; // whehther it's the last batch
// 		// var done = false; // whether finish
// 		var curpos = -1; // current position 
// 		var OVERWRITE = true; // overwrite/append
// 		var TERMINATE = false;
		
// 		this.start = function(oneshot){ // start send data
// 			if(START) return; // already started
// 			START = true;
// 			if(!oneshot){
// 				MORE = true;
// 			}else{
// 				MORE = false;
// 			}
// 			OVERWRITE = true;
// 			TERMINATE = false;

// 			curpos = 0;
// 			senddata(); // start loop
// 		}

// 		this.lastbatch = function(){
// 			MORE = false;
// 		}

// 		this.terminate = function(){
// 			TERMINATE = true;
// 			START = false;
// 		}

// 		this.progress = function(){ // report progress
// 			var status = '', percent = 0;
// 			if(TERMINATE){
// 				status = "Terminated"
// 			}else if(!START){
// 				status = "Not started yet";
// 			}else if(MORE){
// 				status = "Waiting for more data";
// 				percent = Math.round(curpos/queue.length*100);
// 			}else{
// 				if(curpos >= queue.length){
// 					percent = 100;
// 					status = "Finished";
// 				}else{
// 					percent = Math.round(curpos/queue.length*100);
// 					status = "In progress";	
// 				}
// 			}
// 			return {"status":status, "percent":percent};
// 		}

// 		// data transfer loop
// 		var senddata = function(){
// 			if(TERMINATE){
// 				return;
// 			}
// 			if(curpos < queue.length){
// 				// create a small batch
// 				var data_item = ''; // data to be sent

// 				// bugggg
// 				for(var k = 0; k < batchsize; k++){
// 					if(curpos >= queue.length) break;
// 					data_item += delim;
// 					data_item += JSON.stringify(queue[curpos]);
// 					curpos++;
// 				}
				
// 				// create a new file to write/append data to the end
// 				if(OVERWRITE){
// 					upload_url = "http://vision.princeton.edu/projects/2014/iSUN/mturk/save.cgi?"
// 					OVERWRITE = false;
// 				}else{
// 					upload_url = "http://vision.princeton.edu/projects/2014/iSUN/mturk/save_append.cgi?"
// 				}

// 				// post data
// 				$.post(upload_url,
// 				{ 	file: fname,
// 					// data: JSON.stringify(data_item)
// 					data: data_item
// 				},function(data){
// 					try{
// 						if(data == 'success'){
// 							if(!MORE && curpos>=queue.length){
// 								return; // finished
// 							}else{ // continue sending
// 								setTimeout(function(){senddata();},sendinterval); 
// 							}
// 						}else{
// 							alert('Data upload failed.')
// 						}
// 					}catch(err){
// 						alert(data);
// 					}
// 				});

// 				/*
// 				curpos++;
// 				setTimeout(function(){
// 					senddata();
// 				},500);*/
// 			}else if(MORE){ // monitor
// 				setTimeout(function(){senddata();},sendinterval);
// 			}
// 		}
// 		return true;
// 	}
// }

// var dqueue = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25];
// var rawcarrier = new transmitdata.DataTransmitter('abc.txt', dqueue,'@');
// checkstats(rawcarrier);

// setTimeout(function(){
// 	rawcarrier.start(false);
// 	setTimeout(function(){
// 		rawcarrier.terminate();
// 		setTimeout(function(){
// 			rawcarrier.start(false);
// 			setTimeout(function(){
// 				dqueue.push(112);
// 				dqueue.push(113);
// 				dqueue.push(114);
// 				rawcarrier.lastbatch();
// 			},6000);
// 		},2000);
// 	},1000);

// },1000);

// function checkstats(){
// 	var s = rawcarrier.progress();
// 	console.log(s);
// 	if (s.status != 'Finished'){
// 		setTimeout(function(){
// 			checkstats()
// 		},300);
// 	}
// }
function printnumber(d){
  console.log(d);
}
var a = 2000;
setTimeout(printnumber, 1000, a);
a = 7;


</script>



</body>
</html>




